tribe.events=tribe.events||{},tribe.events.virtualAdmin=tribe.events.virtualAdmin||{},function(e,t){var i=e(document);t.selectors={configure:".tribe-configure-virtual-button",displayOption:".tribe-events-virtual-display",displayOptionCheckbox:'.tribe-events-virtual-display input[type="checkbox"]',embedCheckbox:"#tribe-events-virtual-embed-video",embedNotice:".tribe-events-virtual-video-source__not-embeddable-notice",embedNoticeShow:".tribe-events-virtual-video-source__not-embeddable-notice--show",embedNoticeText:".tribe-events-virtual-video-source__not-embeddable-text",remove:".tribe-remove-virtual-event",setupCheckbox:"#tribe-events-virtual-setup",showOptions:".tribe-events-virtual-show input",virtualContainer:"#tribe-virtual-events",virtualUrl:".tribe-events-virtual-video-source__virtual-url-input"},t.setCheckboxCheckedAttr=function(i){return function(){e(t.selectors.setupCheckbox).prop("checked",i).trigger("verify.dependency")}},t.testEmbed=function(){const i=e(t.selectors.virtualUrl),o=i.val(),r=i.attr("data-nonce");i.attr("data-oembed-test")&&o&&r?e.ajax({type:"post",dataType:"json",url:ajaxurl,data:{action:"tribe_events_virtual_check_oembed",url:o,nonce:r}}).done(function(){t.hideOembedNotice()}).error(function(e){t.showOembedNotice(e)}):t.hideOembedNotice()},t.hideOembedNotice=function(){e(t.selectors.embedNotice).removeClass(t.selectors.embedNoticeShow.className()),e(t.selectors.embedCheckbox).prop({disabled:!1})},t.showOembedNotice=function(i){e(t.selectors.embedNoticeText).text(i.responseJSON.data),e(t.selectors.embedNotice).addClass(t.selectors.embedNoticeShow.className()),e(t.selectors.embedCheckbox).prop({disabled:!0,checked:!1})},t.handleShowOptionInteractivity=function(){var i=e(t.selectors.displayOption).find(":checked:visible").length,o=e(t.selectors.showOptions);i>0?o.prop({disabled:!1}):o.prop({disabled:!0})},t.bindEvents=function(){e(t.selectors.virtualContainer).on("click",t.selectors.configure,t.setCheckboxCheckedAttr(!0)).on("click",t.selectors.remove,t.setCheckboxCheckedAttr(!1)).on("blur",t.selectors.virtualUrl,t.testEmbed).on("click",t.selectors.displayOptionCheckbox,t.handleShowOptionInteractivity)},t.ready=function(){t.bindEvents(),t.testEmbed()},i.ready(t.ready)}(jQuery,tribe.events.virtualAdmin);